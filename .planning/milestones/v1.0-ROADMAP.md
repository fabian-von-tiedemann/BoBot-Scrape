# Milestone v1.0: MVP

**Status:** ✅ SHIPPED 2026-01-13
**Phases:** 1-4
**Total Plans:** 5

## Overview

En PDF-scraper som ansluter till användarens befintliga Chrome-session, navigerar Botkyrka kommuns intranät, och laddar ner alla rutindokument organiserade i mappar. Från setup till fungerande nedladdning på fyra faser.

## Phases

### Phase 1: Setup

**Goal**: Fungerande Python-script som kan ansluta till körande Chrome via CDP
**Depends on**: Nothing (first phase)
**Plans**: 2 plans

Plans:

- [x] 01-01: Python environment and dependencies
- [x] 01-02: Chrome CDP connection

**Details:**
- Created pyproject.toml with playwright dependency
- Installed Playwright and Chromium browser
- Created scrape.py with CDP connection using connect_over_cdp
- Discovered --user-data-dir requirement for Chrome remote debugging

### Phase 2: Page Discovery

**Goal**: Scriptet kan navigera till startsidan och extrahera alla kategorilänkar
**Depends on**: Phase 1
**Plans**: 1 plan

Plans:

- [x] 02-01: Navigate and extract category links

**Details:**
- Added RUTINER_CATEGORIES constant with all 15 target categories
- Implemented exact-match filtering for robust category detection
- Reports missing categories as warnings

### Phase 3: PDF Extraction

**Goal**: Scriptet kan följa varje kategorilänk och hitta alla PDF-länkar
**Depends on**: Phase 2
**Plans**: 1 plan

Plans:

- [x] 03-01: Follow categories and extract PDF links

**Details:**
- Extended to extract both PDF and Word files (.pdf, .doc, .docx)
- Case-insensitive extension matching
- Found 1195 documents (1067 PDFs + 128 Word files)

### Phase 4: Download System

**Goal**: Alla PDF:er nedladdade och organiserade i mappar baserat på kategori
**Depends on**: Phase 3
**Plans**: 1 plan

Plans:

- [x] 04-01: Download PDFs to category folders

**Details:**
- Downloads to organized folder structure (downloads/<category>/)
- CLI options: --scan-only, --download (default), --force
- CSV export with URLs for assistant integration
- Skip existing files by default for incremental downloads

---

## Milestone Summary

**Decimal Phases:**

None (no urgent insertions during v1.0)

**Key Decisions:**

- Decision: Playwright över Selenium (Rationale: Bättre CDP-stöd) — ✓ Good
- Decision: sync_playwright API (Rationale: Enklare för script) — ✓ Good
- Decision: --user-data-dir för Chrome (Rationale: Krävs för remote debugging) — ✓ Good
- Decision: Exact-match category filtering (Rationale: Robust mot sidändringar) — ✓ Good
- Decision: Skip existing files by default (Rationale: Incremental downloads) — ✓ Good
- Decision: CSV export med URLs (Rationale: Integration med externa verktyg) — ✓ Good

**Issues Resolved:**

- Chrome refused remote debugging without --user-data-dir flag
- Initial link extraction captured all links, not just categories (fixed with exact-match filtering)

**Issues Deferred:**

None

**Technical Debt Incurred:**

None

---

_For current project status, see .planning/ROADMAP.md_
