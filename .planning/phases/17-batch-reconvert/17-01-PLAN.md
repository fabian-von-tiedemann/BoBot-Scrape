---
phase: 17-batch-reconvert
plan: 01
type: execute
depends_on: []
files_modified: [converted/**/*.md]
---

<objective>
Re-convert all documents with the upgraded frontmatter schema from Phase 16.

Purpose: Apply category/subcategory naming and updated_date extraction to all documents.
Output: All markdown files in converted/ updated with new frontmatter schema.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-frontmatter-upgrade/16-01-SUMMARY.md

**Tech available:** convert.py with --force and --skip-ai flags
**Established pattern:** Same as Phase 10 and 13 batch re-converts
**Constraining decisions:**
- Phase 16: category/subcategory frontmatter naming
- Phase 16: updated_date as optional field with empty string default
</context>

<tasks>

<task type="auto">
  <name>Task 1: Clear existing files and re-convert all documents</name>
  <files>converted/**/*.md</files>
  <action>
    1. Remove all existing markdown files in converted/ directory: `rm -rf converted/*`
    2. Run full conversion with AI metadata to populate updated_date: `.venv/bin/python convert.py --force`

    Note: Using full AI conversion (not --skip-ai) because updated_date extraction requires AI.
    This will take longer (~10-15 min) but ensures the new field is populated.
  </action>
  <verify>
    ls converted/ | wc -l returns 15 (all category folders)
    find converted -name "*.md" | wc -l returns ~1143 files
  </verify>
  <done>All markdown files regenerated in converted/ directory</done>
</task>

<task type="auto">
  <name>Task 2: Verify new frontmatter schema</name>
  <files>N/A (verification only)</files>
  <action>
    Verify the new frontmatter schema is applied:
    1. Check a sample file for category field (not verksamhet)
    2. Check a sample file for subcategory field (not rutin)
    3. Check a sample file for updated_date field (may be empty)
    4. Verify field order: title, source_file, source_url, category, subcategory, updated_date
  </action>
  <verify>
    head -15 "converted/Hemtj√§nst/"*.md | grep -E "^(category|subcategory|updated_date):"
  </verify>
  <done>Frontmatter contains category, subcategory, updated_date fields in correct order</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] All 15 category folders exist in converted/
- [ ] ~1143 markdown files generated (same as previous conversions)
- [ ] Frontmatter uses category/subcategory (not verksamhet/rutin)
- [ ] updated_date field present in frontmatter (may be empty for some docs)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- All documents have upgraded frontmatter schema
- v2.3 milestone complete
</success_criteria>

<output>
After completion, create `.planning/phases/17-batch-reconvert/17-01-SUMMARY.md`:

# Phase 17 Plan 01: Batch Re-convert Summary

**[Substantive one-liner about what was accomplished]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `converted/**/*.md` - All files regenerated with v2.3 frontmatter schema

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Phase complete - v2.3 Frontmatter Schema Upgrade milestone complete.
</output>
